1. Password Field Encryption Method
Combine the plain-text password and the public key timestamp (pubkey timestamp) into a JSON string, then encrypt this JSON string using the public key (pubkey) with RSA encryption.

// json format
{"ts": <Timestamp returned when obtaining the pubkey>, "password":"<Plaintext password>"} 
 
// example
{"ts": "1663054013", "password":"123456"}


Encryption Example
curl -k -s "<ACPEndpoint>/auth/v1/pubkey" -H "Authorization: Bearer <token>" | \
jq -r '.pubkey_encode, .ts' | \
{ read PUBKEY; read TS; \
  echo "$PUBKEY" | base64 -d > /tmp/pk.pem && \
  echo -n "{\"ts\": \"$TS\", \"password\":\"<password>\"}" | \
  openssl pkeyutl -encrypt -pubin -inkey /tmp/pk.pem -pkeyopt rsa_padding_mode:pkcs1 | \
  base64 | tr -d '\n' && rm /tmp/pk.pem; }
  

2. Change Local User Login Password
Request Example
curl -k --location --request PATCH '<ACPEndpoint>/auth/v1/users/{name}' \
--header 'Authorization: Bearer <token>' \
--header 'Content-Type: application/json' \
--data '{
    "spec": {
        "old_password": "<old password RSA encryption>",
        "password": "<new password RSA encryption>"
    }
}'
